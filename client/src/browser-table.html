<link rel="import" href="../bower_components/polymer/polymer.html">

<link rel="import" href="catalog-styles.html">

<dom-module id="browser-table">
  <template>
    <style include="catalog-styles"></style>
    <style>
      #container {
        display: flex;
        flex-direction: column;
        text-transform: uppercase;
        padding: 0 24px;
        color: var(--theme-blue-grey);
        font-size: 14px;
      }

      /* Header row */

      .header {
        display: flex;
        align-items: center;
        border-bottom: 1px solid #ededed;
      }

      .header .row [label] {
        display: none;
      }

      .header .row {
        flex: 1 0;
        border-bottom: none;
      }

      .header h1 {
        flex: 0 0 170px;
        margin-right: 16px;
        margin-bottom: 0;
        text-transform: none;
      }

      .header img {
        width: 24px;
        margin-right: 8px;
      }

      /* Spec label */

      div[label] {
        flex: 0 0 170px;
        margin-right: 16px;
        display: flex;
        align-items: center;
      }

      div[label] svg {
        width: 26px;
        margin-right: 8px;
        fill: var(--theme-blue-grey);
      }

      div[label]:after {
        content: attr(label);
        display: inline-block;
      }

      /* Browser row */
      .row {
        display: flex;
        height: 80px;
        border-bottom: 1px solid #ededed;
        align-items: center;
      }

      .row > :not([label]) {
        flex: 1 1 60px;
        padding: 8px 0;
        display: flex;
        align-items: center;
        font-weight: bold;
      }

      div:not(.header) > div.row > :not([label]):before {
        content: '';
        width: 22px;
        height: 22px;
        flex: 0 0 22px;
        border-radius: 50%;
        display: inline-block;
        background-repeat: no-repeat;
        margin-right: 8px;
      }

      [title="Stable"]:before {
        background: url("data:image/svg+xml;utf8,<svg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 22 22%27 version=%271.1%27 aria-hidden=%27true%27><path fill-rule=%27evenodd%27 fill=%27white%27 d=%27M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z%27></path></svg>"), #8edb69;
        background-position: 5px 3px;
      }


      [title="In progress"]:before {
        background: url("data:image/svg+xml;utf8,<svg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 22 22%27 version=%271.1%27 aria-hidden=%27true%27><circle fill=%27white%27 cx=%2750%%27 cy=%2750%%27 r=%272%27></circle></svg>"), #f5a623;
      }

      [title="On hold"]:before, [title="Under consideration"]:before {
        background:  url("data:image/svg+xml;utf8,<svg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 22 22%27 version=%271.1%27 aria-hidden=%27true%27><circle fill=%27white%27 cx=%2750%%27 cy=%2750%%27 r=%272%27></circle></svg>"), #aaa;
      }

      [title="Stable"]:after {
        color: #8edb69;
        content: 'stable';
      }

      [title="On hold"]:after {
        color: #aaa;
        content: 'on hold';
      }

      [title="In progress"]:after {
        color: #f5a623;
        content: 'in progress';
      }

      [title="Under consideration"]:after {
        color: #aaa;
        content: 'Under consideration';
      }

      @media (max-width: 900px) {
        #container {
          margin: 0 24px;
          width: auto;
        }
        
        [title="Stable"]:after,
        [title="On hold"]:after,
        [title="In progress"]:after,
        [title="Under consideration"]:after {
          content: none !important;
        }

        .header span {
          display: none;
        }
      }

      @media (max-width: 500px) {
        .header {
          flex-direction: column;
        }

        .header h1 {
          margin-top: 24px;
          flex-basis: auto;
        }

        .header .row [label] {
          display: block;
        }

        .header .row {
          width: 100%;
        }

        .row :last-child {
          flex: 0 0 30px !important;
        }

        div[label] {
          flex: 1 0 40px !important;
        }

        div[label]:after {
          position: absolute;
          margin-top: -40px;
          padding-right: 8px;
          background: white;
        }
      }
    </style>

    <div id="container" class="box">
      <div class="header">
        <h1 label>Browser support</h1>
        <div class="row">
          <div label=""></div>
          <div>
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/ca/Google_Chrome_for_Android_Icon_2016.svg/48px-Google_Chrome_for_Android_Icon_2016.svg.png">
            <span>Chrome</span>
          </div>
          <div>
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/49/Opera_2015_icon.svg/48px-Opera_2015_icon.svg.png">
            <span>Opera</span>
          </div>
          <div>
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/76/Mozilla_Firefox_logo_2013.svg/48px-Mozilla_Firefox_logo_2013.svg.png">
            <span>Firefox</span>
          </div>
          <div>
            <img src="https://upload.wikimedia.org/wikipedia/en/6/61/Apple_Safari.png">
            <span>Safari</span>
          </div>
          <div>
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d6/Microsoft_Edge_logo.svg/48px-Microsoft_Edge_logo.svg.png">
            <span>Edge</span>
          </div>
        </div>
      </div>
      <div class="row">
        <div label="Templates"><svg viewBox="0 0 26 22"><use xlink:href="/sprite.octicons.svg#template"></use></svg></div>
        <a title="Stable" href="https://www.chromestatus.com/feature/5207287069147136"></a>
        <a title="Stable" href="https://www.chromestatus.com/feature/5207287069147136"></a>
        <a title="Stable" href="https://platform-status.mozilla.org/#html-templates"></a>
        <a title="Stable" href="https://webkit.org/status/#feature-template-element"></a>
        <a title="Stable" href="https://developer.microsoft.com/en-us/microsoft-edge/platform/status/templateelement/"></a>
      </div>
      <div class="row">
        <div label="Imports"><svg viewBox="0 0 26 22"><use xlink:href="/sprite.octicons.svg#import"></use></svg></div>
        <a title="Stable" href="https://www.chromestatus.com/feature/5144752345317376"></a>
        <a title="Stable" href="https://www.chromestatus.com/feature/5144752345317376"></a>
        <div title="On hold"></div>
        <div title="On hold"></div>
        <a title="Under consideration" href="https://developer.microsoft.com/en-us/microsoft-edge/platform/status/htmlimports/"></a>
      </div>
      <div class="row">
        <div label="Custom elements"><svg viewBox="0 0 26 22"><use xlink:href="/sprite.octicons.svg#element"></use></svg></div>
        <a title="Stable" href="https://www.chromestatus.com/feature/4696261944934400"></a>
        <a title="Stable" href="https://www.chromestatus.com/feature/4696261944934400"></a>
        <a title="In progress" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1274159"></a>
        <a title="In progress" href="https://webkit.org/blog/7027/introducing-custom-elements/"></a>
        <a title="Under consideration" href="https://developer.microsoft.com/en-us/microsoft-edge/platform/status/customelements/"></a>
      </div>
      <div class="row">
        <div label="Shadow DOM"><svg viewBox="0 0 26 22"><use xlink:href="/sprite.octicons.svg#shadow"></use></svg></div>
        <a title="Stable" href="https://www.chromestatus.com/feature/4667415417847808"></a>
        <a title="Stable" href="https://www.chromestatus.com/feature/4667415417847808"></a>
        <a title="In progress" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1205323"></a>
        <a title="Stable" href="https://webkit.org/status/#feature-shadow-dom"></a>
        <a title="Under consideration" href="https://developer.microsoft.com/en-us/microsoft-edge/platform/status/shadowdom/"></a>
      </div>
    </div>
  </template>

  <script>
    Polymer({
      is: 'browser-table',
    });
  </script>
</dom-module>
