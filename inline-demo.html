<!doctype html>
<style>
  body {
    margin: 0;
    overflow: hidden;
  }
  iframe {
    width: 100vw;
    height: 100vh;
    border: none;
  }
</style>
<div id="container"></div>
<script>
  window.addEventListener('message', receiveMessage, false);

  function receiveMessage(event) {
    var container = document.getElementById('container');
    var iframe = document.createElement('iframe');
    container.innerHTML = '';
    container.appendChild(iframe);

    iframe.contentDocument.open();
    iframe.contentDocument.write('<!doctype html>');
    iframe.contentDocument.write(event.data);
    iframe.contentDocument.close();

    var source = event.source;

    iframe.onload = function() {
      postHeight(source, iframe);
      window.addEventListener('resize', postHeight.bind(null, source, iframe));
    }
  }

  function postHeight(sourceWindow, iframe) {
    sourceWindow.postMessage({height: iframe.contentDocument.documentElement.offsetHeight}, '*');
  }
</script>
